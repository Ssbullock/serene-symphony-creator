import{c as at,r as k,j as e,f as Ee,n as kt,v as Et,g as Tt,X as ze,T as Lt,p as Pt,q as It,s as Mt,t as Xe}from"./index-X57gThh1.js";import{B as H}from"./button-BtdOMsSr.js";import{I as At}from"./input-gHlei2MB.js";import{L as Qe}from"./label-DPXlWjO2.js";import{W as Dt,T as Ft,S as zt}from"./textarea-B2D3nTi9.js";import{u as Bt}from"./use-mobile-7_1gwQfZ.js";import{A as ct}from"./arrow-left-pgimcB_c.js";import{A as Ot}from"./arrow-right-DMoiM9WS.js";import{C as $t,a as Pe}from"./api-CVmnSk_j.js";import{C as Ze}from"./circle-check-big-C-SpI26i.js";import{M as Rt,P as Be}from"./play-BP2cyENn.js";import{P as Vt,D as Gt,I as Ht}from"./pause-BhpjMMRn.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=at("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=at("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function qt(t){return Object.prototype.toString.call(t)==="[object Object]"}function et(t){return qt(t)||Array.isArray(t)}function Yt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Ve(t,n){const r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),a=JSON.stringify(Object.keys(n.breakpoints||{}));return i!==a?!1:r.every(s=>{const u=t[s],c=n[s];return typeof u=="function"?`${u}`==`${c}`:!et(u)||!et(c)?u===c:Ve(u,c)})}function tt(t){return t.concat().sort((n,r)=>n.name>r.name?1:-1).map(n=>n.options)}function Kt(t,n){if(t.length!==n.length)return!1;const r=tt(t),o=tt(n);return r.every((i,a)=>{const s=o[a];return Ve(i,s)})}function Ge(t){return typeof t=="number"}function $e(t){return typeof t=="string"}function Ae(t){return typeof t=="boolean"}function nt(t){return Object.prototype.toString.call(t)==="[object Object]"}function V(t){return Math.abs(t)}function He(t){return Math.sign(t)}function Ne(t,n){return V(t-n)}function Wt(t,n){if(t===0||n===0||V(t)<=V(n))return 0;const r=Ne(V(t),V(n));return V(r/t)}function Se(t){return Ce(t).map(Number)}function ce(t){return t[Te(t)]}function Te(t){return Math.max(0,t.length-1)}function _e(t,n){return n===Te(t)}function st(t,n=0){return Array.from(Array(t),(r,o)=>n+o)}function Ce(t){return Object.keys(t)}function lt(t,n){return[t,n].reduce((r,o)=>(Ce(o).forEach(i=>{const a=r[i],s=o[i],u=nt(a)&&nt(s);r[i]=u?lt(a,s):s}),r),{})}function Re(t,n){return typeof n.MouseEvent<"u"&&t instanceof n.MouseEvent}function Jt(t,n){const r={start:o,center:i,end:a};function o(){return 0}function i(c){return a(c)/2}function a(c){return n-c}function s(c,l){return $e(t)?r[t](c):t(n,c,l)}return{measure:s}}function ke(){let t=[];function n(i,a,s,u={passive:!0}){let c;if("addEventListener"in i)i.addEventListener(a,s,u),c=()=>i.removeEventListener(a,s,u);else{const l=i;l.addListener(s),c=()=>l.removeListener(s)}return t.push(c),o}function r(){t=t.filter(i=>i())}const o={add:n,clear:r};return o}function Xt(t,n,r,o){const i=ke(),a=1e3/60;let s=null,u=0,c=0;function l(){i.add(t,"visibilitychange",()=>{t.hidden&&m()})}function v(){b(),i.clear()}function h(p){if(!c)return;s||(s=p);const f=p-s;for(s=p,u+=f;u>=a;)r(a),u-=a;const x=u/a;o(x),c&&n.requestAnimationFrame(h)}function g(){c||(c=n.requestAnimationFrame(h))}function b(){n.cancelAnimationFrame(c),s=null,u=0,c=0}function m(){s=null,u=0}return{init:l,destroy:v,start:g,stop:b,update:()=>r(a),render:o}}function Qt(t,n){const r=n==="rtl",o=t==="y",i=o?"y":"x",a=o?"x":"y",s=!o&&r?-1:1,u=v(),c=h();function l(m){const{height:y,width:p}=m;return o?y:p}function v(){return o?"top":r?"right":"left"}function h(){return o?"bottom":r?"left":"right"}function g(m){return m*s}return{scroll:i,cross:a,startEdge:u,endEdge:c,measureSize:l,direction:g}}function we(t=0,n=0){const r=V(t-n);function o(l){return l<t}function i(l){return l>n}function a(l){return o(l)||i(l)}function s(l){return a(l)?o(l)?t:n:l}function u(l){return r?l-r*Math.ceil((l-n)/r):l}return{length:r,max:n,min:t,constrain:s,reachedAny:a,reachedMax:i,reachedMin:o,removeOffset:u}}function dt(t,n,r){const{constrain:o}=we(0,t),i=t+1;let a=s(n);function s(g){return r?V((i+g)%i):o(g)}function u(){return a}function c(g){return a=s(g),h}function l(g){return v().set(u()+g)}function v(){return dt(t,u(),r)}const h={get:u,set:c,add:l,clone:v};return h}function Zt(t,n,r,o,i,a,s,u,c,l,v,h,g,b,m,y,p,f,x){const{cross:j,direction:S}=t,F=["INPUT","SELECT","TEXTAREA"],D={passive:!1},E=ke(),M=ke(),I=we(50,225).constrain(b.measure(20)),O={mouse:300,touch:400},L={mouse:500,touch:600},$=m?43:25;let T=!1,ie=0,te=0,me=!1,_=!1,ne=!1,oe=!1;function ge(w){if(!x)return;function z(Y){(Ae(x)||x(w,Y))&&he(Y)}const G=n;E.add(G,"dragstart",Y=>Y.preventDefault(),D).add(G,"touchmove",()=>{},D).add(G,"touchend",()=>{}).add(G,"touchstart",z).add(G,"mousedown",z).add(G,"touchcancel",q).add(G,"contextmenu",q).add(G,"click",se,!0)}function U(){E.clear(),M.clear()}function le(){const w=oe?r:n;M.add(w,"touchmove",K,D).add(w,"touchend",q).add(w,"mousemove",K,D).add(w,"mouseup",q)}function ee(w){const z=w.nodeName||"";return F.includes(z)}function J(){return(m?L:O)[oe?"mouse":"touch"]}function ve(w,z){const G=h.add(He(w)*-1),Y=v.byDistance(w,!m).distance;return m||V(w)<I?Y:p&&z?Y*.5:v.byIndex(G.get(),0).distance}function he(w){const z=Re(w,o);oe=z,ne=m&&z&&!w.buttons&&T,T=Ne(i.get(),s.get())>=2,!(z&&w.button!==0)&&(ee(w.target)||(me=!0,a.pointerDown(w),l.useFriction(0).useDuration(0),i.set(s),le(),ie=a.readPoint(w),te=a.readPoint(w,j),g.emit("pointerDown")))}function K(w){if(!Re(w,o)&&w.touches.length>=2)return q(w);const G=a.readPoint(w),Y=a.readPoint(w,j),re=Ne(G,ie),ae=Ne(Y,te);if(!_&&!oe&&(!w.cancelable||(_=re>ae,!_)))return q(w);const de=a.pointerMove(w);re>y&&(ne=!0),l.useFriction(.3).useDuration(.75),u.start(),i.add(S(de)),w.preventDefault()}function q(w){const G=v.byDistance(0,!1).index!==h.get(),Y=a.pointerUp(w)*J(),re=ve(S(Y),G),ae=Wt(Y,re),de=$-10*ae,ue=f+ae/50;_=!1,me=!1,M.clear(),l.useDuration(de).useFriction(ue),c.distance(re,!m),oe=!1,g.emit("pointerUp")}function se(w){ne&&(w.stopPropagation(),w.preventDefault(),ne=!1)}function X(){return me}return{init:ge,destroy:U,pointerDown:X}}function en(t,n){let o,i;function a(h){return h.timeStamp}function s(h,g){const m=`client${(g||t.scroll)==="x"?"X":"Y"}`;return(Re(h,n)?h:h.touches[0])[m]}function u(h){return o=h,i=h,s(h)}function c(h){const g=s(h)-s(i),b=a(h)-a(o)>170;return i=h,b&&(o=h),g}function l(h){if(!o||!i)return 0;const g=s(i)-s(o),b=a(h)-a(o),m=a(h)-a(i)>170,y=g/b;return b&&!m&&V(y)>.1?y:0}return{pointerDown:u,pointerMove:c,pointerUp:l,readPoint:s}}function tn(){function t(r){const{offsetTop:o,offsetLeft:i,offsetWidth:a,offsetHeight:s}=r;return{top:o,right:i+a,bottom:o+s,left:i,width:a,height:s}}return{measure:t}}function nn(t){function n(o){return t*(o/100)}return{measure:n}}function sn(t,n,r,o,i,a,s){const u=[t].concat(o);let c,l,v=[],h=!1;function g(p){return i.measureSize(s.measure(p))}function b(p){if(!a)return;l=g(t),v=o.map(g);function f(x){for(const j of x){if(h)return;const S=j.target===t,F=o.indexOf(j.target),D=S?l:v[F],E=g(S?t:o[F]);if(V(E-D)>=.5){p.reInit(),n.emit("resize");break}}}c=new ResizeObserver(x=>{(Ae(a)||a(p,x))&&f(x)}),r.requestAnimationFrame(()=>{u.forEach(x=>c.observe(x))})}function m(){h=!0,c&&c.disconnect()}return{init:b,destroy:m}}function rn(t,n,r,o,i,a){let s=0,u=0,c=i,l=a,v=t.get(),h=0;function g(D){const E=D/1e3,M=c*E,I=o.get()-t.get(),O=!c;let L=0;return O?(s=0,r.set(o),t.set(o),L=I):(r.set(t),s+=I/M,s*=l,v+=s,t.add(s*E),L=v-h),u=He(L),h=v,F}function b(){const D=o.get()-n.get();return V(D)<.001}function m(){return c}function y(){return u}function p(){return s}function f(){return j(i)}function x(){return S(a)}function j(D){return c=D,F}function S(D){return l=D,F}const F={direction:y,duration:m,velocity:p,seek:g,settled:b,useBaseFriction:x,useBaseDuration:f,useFriction:S,useDuration:j};return F}function on(t,n,r,o,i){const a=i.measure(10),s=i.measure(50),u=we(.1,.99);let c=!1;function l(){return!(c||!t.reachedAny(r.get())||!t.reachedAny(n.get()))}function v(b){if(!l())return;const m=t.reachedMin(n.get())?"min":"max",y=V(t[m]-n.get()),p=r.get()-n.get(),f=u.constrain(y/s);r.subtract(p*f),!b&&V(p)<a&&(r.set(t.constrain(r.get())),o.useDuration(25).useBaseFriction())}function h(b){c=!b}return{shouldConstrain:l,constrain:v,toggleActive:h}}function an(t,n,r,o,i){const a=we(-n+t,0),s=h(),u=v(),c=g();function l(m,y){return Ne(m,y)<1}function v(){const m=s[0],y=ce(s),p=s.lastIndexOf(m),f=s.indexOf(y)+1;return we(p,f)}function h(){return r.map((m,y)=>{const{min:p,max:f}=a,x=a.constrain(m),j=!y,S=_e(r,y);return j?f:S||l(p,x)?p:l(f,x)?f:x}).map(m=>parseFloat(m.toFixed(3)))}function g(){if(n<=t+i)return[a.max];if(o==="keepSnaps")return s;const{min:m,max:y}=u;return s.slice(m,y)}return{snapsContained:c,scrollContainLimit:u}}function cn(t,n,r){const o=n[0],i=r?o-t:ce(n);return{limit:we(i,o)}}function ln(t,n,r,o){const a=n.min+.1,s=n.max+.1,{reachedMin:u,reachedMax:c}=we(a,s);function l(g){return g===1?c(r.get()):g===-1?u(r.get()):!1}function v(g){if(!l(g))return;const b=t*(g*-1);o.forEach(m=>m.add(b))}return{loop:v}}function dn(t){const{max:n,length:r}=t;function o(a){const s=a-n;return r?s/-r:0}return{get:o}}function un(t,n,r,o,i){const{startEdge:a,endEdge:s}=t,{groupSlides:u}=i,c=h().map(n.measure),l=g(),v=b();function h(){return u(o).map(y=>ce(y)[s]-y[0][a]).map(V)}function g(){return o.map(y=>r[a]-y[a]).map(y=>-V(y))}function b(){return u(l).map(y=>y[0]).map((y,p)=>y+c[p])}return{snaps:l,snapsAligned:v}}function fn(t,n,r,o,i,a){const{groupSlides:s}=i,{min:u,max:c}=o,l=v();function v(){const g=s(a),b=!t||n==="keepSnaps";return r.length===1?[a]:b?g:g.slice(u,c).map((m,y,p)=>{const f=!y,x=_e(p,y);if(f){const j=ce(p[0])+1;return st(j)}if(x){const j=Te(a)-ce(p)[0]+1;return st(j,ce(p)[0])}return m})}return{slideRegistry:l}}function mn(t,n,r,o,i){const{reachedAny:a,removeOffset:s,constrain:u}=o;function c(m){return m.concat().sort((y,p)=>V(y)-V(p))[0]}function l(m){const y=t?s(m):u(m),p=n.map((x,j)=>({diff:v(x-y,0),index:j})).sort((x,j)=>V(x.diff)-V(j.diff)),{index:f}=p[0];return{index:f,distance:y}}function v(m,y){const p=[m,m+r,m-r];if(!t)return m;if(!y)return c(p);const f=p.filter(x=>He(x)===y);return f.length?c(f):ce(p)-r}function h(m,y){const p=n[m]-i.get(),f=v(p,y);return{index:m,distance:f}}function g(m,y){const p=i.get()+m,{index:f,distance:x}=l(p),j=!t&&a(p);if(!y||j)return{index:f,distance:m};const S=n[f]-x,F=m+v(S,0);return{index:f,distance:F}}return{byDistance:g,byIndex:h,shortcut:v}}function hn(t,n,r,o,i,a,s){function u(h){const g=h.distance,b=h.index!==n.get();a.add(g),g&&(o.duration()?t.start():(t.update(),t.render(1),t.update())),b&&(r.set(n.get()),n.set(h.index),s.emit("select"))}function c(h,g){const b=i.byDistance(h,g);u(b)}function l(h,g){const b=n.clone().set(h),m=i.byIndex(b.get(),g);u(m)}return{distance:c,index:l}}function pn(t,n,r,o,i,a,s,u){const c={passive:!0,capture:!0};let l=0;function v(b){if(!u)return;function m(y){if(new Date().getTime()-l>10)return;s.emit("slideFocusStart"),t.scrollLeft=0;const x=r.findIndex(j=>j.includes(y));Ge(x)&&(i.useDuration(0),o.index(x,0),s.emit("slideFocus"))}a.add(document,"keydown",h,!1),n.forEach((y,p)=>{a.add(y,"focus",f=>{(Ae(u)||u(b,f))&&m(p)},c)})}function h(b){b.code==="Tab"&&(l=new Date().getTime())}return{init:v}}function je(t){let n=t;function r(){return n}function o(c){n=s(c)}function i(c){n+=s(c)}function a(c){n-=s(c)}function s(c){return Ge(c)?c:c.get()}return{get:r,set:o,add:i,subtract:a}}function ut(t,n){const r=t.scroll==="x"?a:s,o=n.style;let i=!1;function a(h){return`translate3d(${h}px,0px,0px)`}function s(h){return`translate3d(0px,${h}px,0px)`}function u(h){i||(o.transform=r(t.direction(h)))}function c(h){i=!h}function l(){i||(o.transform="",n.getAttribute("style")||n.removeAttribute("style"))}return{clear:l,to:u,toggleActive:c}}function gn(t,n,r,o,i,a,s,u,c){const v=Se(i),h=Se(i).reverse(),g=f().concat(x());function b(E,M){return E.reduce((I,O)=>I-i[O],M)}function m(E,M){return E.reduce((I,O)=>b(I,M)>0?I.concat([O]):I,[])}function y(E){return a.map((M,I)=>({start:M-o[I]+.5+E,end:M+n-.5+E}))}function p(E,M,I){const O=y(M);return E.map(L=>{const $=I?0:-r,T=I?r:0,ie=I?"end":"start",te=O[L][ie];return{index:L,loopPoint:te,slideLocation:je(-1),translate:ut(t,c[L]),target:()=>u.get()>te?$:T}})}function f(){const E=s[0],M=m(h,E);return p(M,r,!1)}function x(){const E=n-s[0]-1,M=m(v,E);return p(M,-r,!0)}function j(){return g.every(({index:E})=>{const M=v.filter(I=>I!==E);return b(M,n)<=.1})}function S(){g.forEach(E=>{const{target:M,translate:I,slideLocation:O}=E,L=M();L!==O.get()&&(I.to(L),O.set(L))})}function F(){g.forEach(E=>E.translate.clear())}return{canLoop:j,clear:F,loop:S,loopPoints:g}}function xn(t,n,r){let o,i=!1;function a(c){if(!r)return;function l(v){for(const h of v)if(h.type==="childList"){c.reInit(),n.emit("slidesChanged");break}}o=new MutationObserver(v=>{i||(Ae(r)||r(c,v))&&l(v)}),o.observe(t,{childList:!0})}function s(){o&&o.disconnect(),i=!0}return{init:a,destroy:s}}function yn(t,n,r,o){const i={};let a=null,s=null,u,c=!1;function l(){u=new IntersectionObserver(m=>{c||(m.forEach(y=>{const p=n.indexOf(y.target);i[p]=y}),a=null,s=null,r.emit("slidesInView"))},{root:t.parentElement,threshold:o}),n.forEach(m=>u.observe(m))}function v(){u&&u.disconnect(),c=!0}function h(m){return Ce(i).reduce((y,p)=>{const f=parseInt(p),{isIntersecting:x}=i[f];return(m&&x||!m&&!x)&&y.push(f),y},[])}function g(m=!0){if(m&&a)return a;if(!m&&s)return s;const y=h(m);return m&&(a=y),m||(s=y),y}return{init:l,destroy:v,get:g}}function vn(t,n,r,o,i,a){const{measureSize:s,startEdge:u,endEdge:c}=t,l=r[0]&&i,v=m(),h=y(),g=r.map(s),b=p();function m(){if(!l)return 0;const x=r[0];return V(n[u]-x[u])}function y(){if(!l)return 0;const x=a.getComputedStyle(ce(o));return parseFloat(x.getPropertyValue(`margin-${c}`))}function p(){return r.map((x,j,S)=>{const F=!j,D=_e(S,j);return F?g[j]+v:D?g[j]+h:S[j+1][u]-x[u]}).map(V)}return{slideSizes:g,slideSizesWithGaps:b,startGap:v,endGap:h}}function bn(t,n,r,o,i,a,s,u,c){const{startEdge:l,endEdge:v,direction:h}=t,g=Ge(r);function b(f,x){return Se(f).filter(j=>j%x===0).map(j=>f.slice(j,j+x))}function m(f){return f.length?Se(f).reduce((x,j,S)=>{const F=ce(x)||0,D=F===0,E=j===Te(f),M=i[l]-a[F][l],I=i[l]-a[j][v],O=!o&&D?h(s):0,L=!o&&E?h(u):0,$=V(I-L-(M+O));return S&&$>n+c&&x.push(j),E&&x.push(f.length),x},[]).map((x,j,S)=>{const F=Math.max(S[j-1]||0);return f.slice(F,x)}):[]}function y(f){return g?b(f,r):m(f)}return{groupSlides:y}}function wn(t,n,r,o,i,a,s){const{align:u,axis:c,direction:l,startIndex:v,loop:h,duration:g,dragFree:b,dragThreshold:m,inViewThreshold:y,slidesToScroll:p,skipSnaps:f,containScroll:x,watchResize:j,watchSlides:S,watchDrag:F,watchFocus:D}=a,E=2,M=tn(),I=M.measure(n),O=r.map(M.measure),L=Qt(c,l),$=L.measureSize(I),T=nn($),ie=Jt(u,$),te=!h&&!!x,me=h||!!x,{slideSizes:_,slideSizesWithGaps:ne,startGap:oe,endGap:ge}=vn(L,I,O,r,me,i),U=bn(L,$,p,h,I,O,oe,ge,E),{snaps:le,snapsAligned:ee}=un(L,ie,I,O,U),J=-ce(le)+ce(ne),{snapsContained:ve,scrollContainLimit:he}=an($,J,ee,x,E),K=te?ve:ee,{limit:q}=cn(J,K,h),se=dt(Te(K),v,h),X=se.clone(),R=Se(r),w=({dragHandler:W,scrollBody:be,scrollBounds:ye,options:{loop:Le}},Fe)=>{Le||ye.constrain(W.pointerDown()),be.seek(Fe)},z=({scrollBody:W,translate:be,location:ye,offsetLocation:Le,scrollLooper:Fe,slideLooper:bt,dragHandler:wt,animation:jt,eventHandler:qe,scrollBounds:Nt,options:{loop:Ye}},Ke)=>{const We=W.settled(),St=!Nt.shouldConstrain(),Je=Ye?We:We&&St;Je&&!wt.pointerDown()&&(jt.stop(),qe.emit("settle")),Je||qe.emit("scroll");const Ct=ye.get()*Ke+de.get()*(1-Ke);Le.set(Ct),Ye&&(Fe.loop(W.direction()),bt.loop()),be.to(Le.get())},G=Xt(o,i,W=>w(Z,W),W=>z(Z,W)),Y=.68,re=K[se.get()],ae=je(re),de=je(re),ue=je(re),fe=je(re),xe=rn(ae,ue,de,fe,g,Y),d=mn(h,K,J,q,fe),N=hn(G,se,X,xe,d,fe,s),C=dn(q),P=ke(),A=yn(n,r,s,y),{slideRegistry:B}=fn(te,x,K,he,U,R),Q=pn(t,r,B,N,xe,P,s,D),Z={ownerDocument:o,ownerWindow:i,eventHandler:s,containerRect:I,slideRects:O,animation:G,axis:L,dragHandler:Zt(L,t,o,i,fe,en(L,i),ae,G,N,xe,d,se,s,T,b,m,f,Y,F),eventStore:P,percentOfView:T,index:se,indexPrevious:X,limit:q,location:ae,offsetLocation:ue,previousLocation:de,options:a,resizeHandler:sn(n,s,i,r,L,j,M),scrollBody:xe,scrollBounds:on(q,ue,fe,xe,T),scrollLooper:ln(J,q,ue,[ae,ue,de,fe]),scrollProgress:C,scrollSnapList:K.map(C.get),scrollSnaps:K,scrollTarget:d,scrollTo:N,slideLooper:gn(L,$,J,_,ne,le,K,ue,r),slideFocus:Q,slidesHandler:xn(n,s,S),slidesInView:A,slideIndexes:R,slideRegistry:B,slidesToScroll:U,target:fe,translate:ut(L,n)};return Z}function jn(){let t={},n;function r(l){n=l}function o(l){return t[l]||[]}function i(l){return o(l).forEach(v=>v(n,l)),c}function a(l,v){return t[l]=o(l).concat([v]),c}function s(l,v){return t[l]=o(l).filter(h=>h!==v),c}function u(){t={}}const c={init:r,emit:i,off:s,on:a,clear:u};return c}const Nn={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Sn(t){function n(a,s){return lt(a,s||{})}function r(a){const s=a.breakpoints||{},u=Ce(s).filter(c=>t.matchMedia(c).matches).map(c=>s[c]).reduce((c,l)=>n(c,l),{});return n(a,u)}function o(a){return a.map(s=>Ce(s.breakpoints||{})).reduce((s,u)=>s.concat(u),[]).map(t.matchMedia)}return{mergeOptions:n,optionsAtMedia:r,optionsMediaQueries:o}}function Cn(t){let n=[];function r(a,s){return n=s.filter(({options:u})=>t.optionsAtMedia(u).active!==!1),n.forEach(u=>u.init(a,t)),s.reduce((u,c)=>Object.assign(u,{[c.name]:c}),{})}function o(){n=n.filter(a=>a.destroy())}return{init:r,destroy:o}}function Me(t,n,r){const o=t.ownerDocument,i=o.defaultView,a=Sn(i),s=Cn(a),u=ke(),c=jn(),{mergeOptions:l,optionsAtMedia:v,optionsMediaQueries:h}=a,{on:g,off:b,emit:m}=c,y=L;let p=!1,f,x=l(Nn,Me.globalOptions),j=l(x),S=[],F,D,E;function M(){const{container:R,slides:w}=j;D=($e(R)?t.querySelector(R):R)||t.children[0];const G=$e(w)?D.querySelectorAll(w):w;E=[].slice.call(G||D.children)}function I(R){const w=wn(t,D,E,o,i,R,c);if(R.loop&&!w.slideLooper.canLoop()){const z=Object.assign({},R,{loop:!1});return I(z)}return w}function O(R,w){p||(x=l(x,R),j=v(x),S=w||S,M(),f=I(j),h([x,...S.map(({options:z})=>z)]).forEach(z=>u.add(z,"change",L)),j.active&&(f.translate.to(f.location.get()),f.animation.init(),f.slidesInView.init(),f.slideFocus.init(X),f.eventHandler.init(X),f.resizeHandler.init(X),f.slidesHandler.init(X),f.options.loop&&f.slideLooper.loop(),D.offsetParent&&E.length&&f.dragHandler.init(X),F=s.init(X,S)))}function L(R,w){const z=U();$(),O(l({startIndex:z},R),w),c.emit("reInit")}function $(){f.dragHandler.destroy(),f.eventStore.clear(),f.translate.clear(),f.slideLooper.clear(),f.resizeHandler.destroy(),f.slidesHandler.destroy(),f.slidesInView.destroy(),f.animation.destroy(),s.destroy(),u.clear()}function T(){p||(p=!0,u.clear(),$(),c.emit("destroy"),c.clear())}function ie(R,w,z){!j.active||p||(f.scrollBody.useBaseFriction().useDuration(w===!0?0:j.duration),f.scrollTo.index(R,z||0))}function te(R){const w=f.index.add(1).get();ie(w,R,-1)}function me(R){const w=f.index.add(-1).get();ie(w,R,1)}function _(){return f.index.add(1).get()!==U()}function ne(){return f.index.add(-1).get()!==U()}function oe(){return f.scrollSnapList}function ge(){return f.scrollProgress.get(f.location.get())}function U(){return f.index.get()}function le(){return f.indexPrevious.get()}function ee(){return f.slidesInView.get()}function J(){return f.slidesInView.get(!1)}function ve(){return F}function he(){return f}function K(){return t}function q(){return D}function se(){return E}const X={canScrollNext:_,canScrollPrev:ne,containerNode:q,internalEngine:he,destroy:T,off:b,on:g,emit:m,plugins:ve,previousScrollSnap:le,reInit:y,rootNode:K,scrollNext:te,scrollPrev:me,scrollProgress:ge,scrollSnapList:oe,scrollTo:ie,selectedScrollSnap:U,slideNodes:se,slidesInView:ee,slidesNotInView:J};return O(n,r),setTimeout(()=>c.emit("init"),0),X}Me.globalOptions=void 0;function Ue(t={},n=[]){const r=k.useRef(t),o=k.useRef(n),[i,a]=k.useState(),[s,u]=k.useState(),c=k.useCallback(()=>{i&&i.reInit(r.current,o.current)},[i]);return k.useEffect(()=>{Ve(r.current,t)||(r.current=t,c())},[t,c]),k.useEffect(()=>{Kt(o.current,n)||(o.current=n,c())},[n,c]),k.useEffect(()=>{if(Yt()&&s){Me.globalOptions=Ue.globalOptions;const l=Me(s,r.current,o.current);return a(l),()=>l.destroy()}else a(void 0)},[s,a]),[u,i]}Ue.globalOptions=void 0;const ft=k.createContext(null);function De(){const t=k.useContext(ft);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const mt=k.forwardRef(({orientation:t="horizontal",opts:n,setApi:r,plugins:o,className:i,children:a,...s},u)=>{const[c,l]=Ue({...n,axis:t==="horizontal"?"x":"y"},o),[v,h]=k.useState(!1),[g,b]=k.useState(!1),m=k.useCallback(x=>{x&&(h(x.canScrollPrev()),b(x.canScrollNext()))},[]),y=k.useCallback(()=>{l==null||l.scrollPrev()},[l]),p=k.useCallback(()=>{l==null||l.scrollNext()},[l]),f=k.useCallback(x=>{x.key==="ArrowLeft"?(x.preventDefault(),y()):x.key==="ArrowRight"&&(x.preventDefault(),p())},[y,p]);return k.useEffect(()=>{!l||!r||r(l)},[l,r]),k.useEffect(()=>{if(l)return m(l),l.on("reInit",m),l.on("select",m),()=>{l==null||l.off("select",m)}},[l,m]),e.jsx(ft.Provider,{value:{carouselRef:c,api:l,opts:n,orientation:t||((n==null?void 0:n.axis)==="y"?"vertical":"horizontal"),scrollPrev:y,scrollNext:p,canScrollPrev:v,canScrollNext:g},children:e.jsx("div",{ref:u,onKeyDownCapture:f,className:Ee("relative",i),role:"region","aria-roledescription":"carousel",...s,children:a})})});mt.displayName="Carousel";const ht=k.forwardRef(({className:t,...n},r)=>{const{carouselRef:o,orientation:i}=De();return e.jsx("div",{ref:o,className:"overflow-hidden",children:e.jsx("div",{ref:r,className:Ee("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...n})})});ht.displayName="CarouselContent";const pt=k.forwardRef(({className:t,...n},r)=>{const{orientation:o}=De();return e.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:Ee("min-w-0 shrink-0 grow-0 basis-full",o==="horizontal"?"pl-4":"pt-4",t),...n})});pt.displayName="CarouselItem";const gt=k.forwardRef(({className:t,variant:n="outline",size:r="icon",...o},i)=>{const{orientation:a,scrollPrev:s,canScrollPrev:u}=De();return e.jsxs(H,{ref:i,variant:n,size:r,className:Ee("absolute  h-8 w-8 rounded-full",a==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!u,onClick:s,...o,children:[e.jsx(ct,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Previous slide"})]})});gt.displayName="CarouselPrevious";const xt=k.forwardRef(({className:t,variant:n="outline",size:r="icon",...o},i)=>{const{orientation:a,scrollNext:s,canScrollNext:u}=De();return e.jsxs(H,{ref:i,variant:n,size:r,className:Ee("absolute h-8 w-8 rounded-full",a==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!u,onClick:s,...o,children:[e.jsx(Ot,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Next slide"})]})});xt.displayName="CarouselNext";const yt=[{id:"mindfulness",name:"Mindfulness",description:"Present-moment awareness without judgment",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})},{id:"breathwork",name:"Breathwork",description:"Guided breathing techniques for calm and focus",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})},{id:"bodyscan",name:"Body Scan",description:"Progressive relaxation through body awareness",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})},{id:"visualization",name:"Nature Visualization",description:"Mental imagery for deep relaxation",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}],Ie=[{id:"alloy",name:"Emma",description:"Warm and soothing female voice",recommended:"mindfulness",previewText:"Hi, I'm Emma. I'm a warm and soothing voice who will be guiding you through your meditation today."},{id:"echo",name:"James",description:"Deep and calming male voice",recommended:"breathwork",previewText:"Hi, I'm James. I'm a deep and calming voice who will be guiding you through your meditation today."},{id:"nova",name:"Lily",description:"Soft and gentle female voice",recommended:"bodyscan",previewText:"Hi, I'm Lily. I'm a soft and gentle voice who will be guiding you through your meditation today."},{id:"onyx",name:"David",description:"Clear and focused male voice",recommended:"visualization",previewText:"Hi, I'm David. I'm a clear and focused voice who will be guiding you through your meditation today."},{id:"shimmer",name:"Sophie",description:"Bright and optimistic female voice",recommended:"",previewText:"Hi, I'm Sophie. I'm a bright and optimistic voice who will be guiding you through your meditation today."},{id:"fable",name:"Felix",description:"Warm storyteller voice",recommended:"",previewText:"Hi, I'm Felix. I'm a warm storyteller voice who will be guiding you through your meditation today."},{id:"coral",name:"Claire",description:"Expressive and engaging female voice",recommended:"",previewText:"Hi, I'm Claire. I'm an expressive and engaging voice who will be guiding you through your meditation today."},{id:"sage",name:"Sam",description:"Wise and thoughtful voice",recommended:"",previewText:"Hi, I'm Sam. I'm a wise and thoughtful voice who will be guiding you through your meditation today."},{id:"ash",name:"Alex",description:"Neutral and versatile voice",recommended:"",previewText:"Hi, I'm Alex. I'm a neutral and versatile voice who will be guiding you through your meditation today."}],vt=[{id:"rain",name:"Gentle Rain",description:"Soft rainfall soundscape"},{id:"ocean",name:"Ocean Waves",description:"Rhythmic wave sounds"},{id:"forest",name:"Forest Ambience",description:"Birds and gentle breeze"},{id:"meditative",name:"Meditative",description:"Calming ambient tones for deep meditation"},{id:"none",name:"No Background",description:"Voice guidance only"}],pe=t=>{const n=yt.find(r=>r.id===t);return n?n.name:"Custom"},rt=t=>{const n=Ie.find(r=>r.id===t);return n?n.name:"Default Voice"},it=t=>{const n=vt.find(r=>r.id===t);return n?n.name:"No Background"},ot=t=>{if(isNaN(t))return"0:00";const n=Math.floor(t/60),r=Math.floor(t%60);return`${n}:${r.toString().padStart(2,"0")}`},Oe=t=>{if(typeof t=="string"){const n=parseFloat(t);if(isNaN(n))return t;t=n}return Number.isInteger(t)?t.toString():t.toFixed(1)},On=()=>{var fe,xe;const[t,n]=k.useState(1),[r,o]=k.useState(""),[i,a]=k.useState("10"),[s,u]=k.useState(""),[c,l]=k.useState(""),[v,h]=k.useState(""),[g,b]=k.useState(!1),[m,y]=k.useState(!1),{toast:p}=kt(),f=Et(),[x,j]=k.useState(""),[S,F]=k.useState(null),[D,E]=k.useState(""),[M,I]=k.useState(null),[O,L]=k.useState(null),$=k.useRef(null),T=k.useRef(null);Bt();const[ie,te]=k.useState(null),[me,_]=k.useState(""),{user:ne,loading:oe}=Tt(),[ge,U]=k.useState(!1),[le,ee]=k.useState(0),[J,ve]=k.useState(null),[he,K]=k.useState(!1);k.useEffect(()=>{let d;if(g){const N=parseInt(i)>=20?468e3:234e3;d=window.setTimeout(()=>{if(g&&(console.log(`Safety timeout triggered after ${N/6e4} minutes - clearing loading state`),b(!1),_(""),J&&!S)){const C={id:J,title:r||`${pe(s)} Meditation`,duration:parseInt(i),style:s,voice:c,background:v,audio_url:`/meditations/${J}.mp3`,goals:x};F(C),n(7),p({title:"Meditation Ready",description:"Your meditation has been created and is ready to play.",variant:"default"})}},N)}return()=>{d&&window.clearTimeout(d)}},[g,S,J,i]);const q=async()=>{b(!0),E("");try{const d=J||crypto.randomUUID();ve(d),console.log("Using session ID:",d);const N=performance.now();_("Generating meditation script...");const C=await Pe.post("/api/generate-script",{style:s,duration:i,goals:x}),P=performance.now();console.log(`Script generation took ${((P-N)/1e3).toFixed(2)} seconds`),te(C.script);const A=performance.now();_("Generating voice audio...");const B=await Pe.post("/api/generate-tts",{script:C.script,voice:c,sessionId:d}),Q=performance.now();console.log(`TTS generation took ${((Q-A)/1e3).toFixed(2)} seconds`),console.log("TTS response:",B);const Z=performance.now();_("Processing audio and adding background music...");const W=await Pe.post("/api/process-audio",{sessionId:d,audioFiles:B.audioFiles,background:v==="none"?null:v}),be=performance.now();if(console.log(`Audio processing took ${((be-Z)/1e3).toFixed(2)} seconds`),console.log("Process audio response:",W),W.status==="error")throw new Error(W.error||"Failed to process audio");F({id:d,title:r||`${pe(s)} Meditation`,duration:parseInt(i),audio_url:W.audioUrl,style:s,voice:c,background:v,goals:x}),n(7),b(!1);const ye=performance.now()-N;console.log(`Total meditation generation took ${(ye/1e3).toFixed(2)} seconds`),console.log("Generation breakdown:"),console.log(`- Script generation: ${((P-N)/1e3).toFixed(2)} seconds (${((P-N)/ye*100).toFixed(1)}%)`),console.log(`- TTS generation: ${((Q-A)/1e3).toFixed(2)} seconds (${((Q-A)/ye*100).toFixed(1)}%)`),console.log(`- Audio processing: ${((be-Z)/1e3).toFixed(2)} seconds (${((be-Z)/ye*100).toFixed(1)}%)`)}catch(d){console.error("Error creating meditation:",d),b(!1),E(d.message||"Failed to create meditation"),p({title:"Error",description:d.message||"Failed to generate meditation",variant:"destructive"})}},se=async d=>new Promise((N,C)=>{const P=new Audio(d),A=()=>{P.removeEventListener("canplaythrough",A),P.removeEventListener("error",B),N(P)},B=Q=>{P.removeEventListener("canplaythrough",A),P.removeEventListener("error",B),C(new Error(`Failed to load audio: ${Q.message}`))};P.addEventListener("canplaythrough",A),P.addEventListener("error",B),P.load()}),X=async()=>{if(!(S!=null&&S.audio_url)){p({title:"No Audio Available",description:"Please generate a meditation first",variant:"destructive"});return}if(ge)T.current&&(T.current.pause(),U(!1),T.current=null);else try{const d=S.audio_url,N=d.includes("supabase.co")?d.includes("_with_bg.mp3")?d:d.replace(".mp3","_with_bg.mp3"):d;console.log(`Attempting to load audio: ${N}`);try{const C=await se(N);C.addEventListener("ended",()=>{U(!1),T.current=null}),T.current=C,await C.play(),U(!0)}catch{console.log("Background version failed, trying original:",d);const P=await se(d);P.addEventListener("ended",()=>{U(!1),T.current=null}),T.current=P,await P.play(),U(!0)}}catch(d){console.error("Error playing audio:",d),p({title:"Playback Error",description:d instanceof Error?d.message:"Failed to play meditation audio",variant:"destructive"}),U(!1),T.current=null}},R=async()=>{if(S)try{_("Saving meditation...");const{data:d}=await Xe.from("meditations").select("id").eq("id",S.id).single();if(d){f("/dashboard");return}const{error:N}=await Xe.from("meditations").insert({id:S.id,title:r||`${pe(s)} Meditation`,duration:parseInt(i),style:s,voice:c,background:v,goals:x,audio_url:S.audio_url,user_id:ne.id});if(N)throw N;p({title:"Success",description:"Meditation saved to your dashboard",variant:"default"}),f("/dashboard")}catch(d){console.error("Error saving meditation:",d),_(""),p({title:"Save Error",description:"Failed to save your meditation. Please try again.",variant:"destructive"})}},w=async()=>{if(!(S!=null&&S.audio_url)){p({title:"No Audio Available",description:"Please generate a meditation first",variant:"destructive"});return}try{_("Preparing download...");const d=S.audio_url,N=d.includes("supabase.co")?d.includes("_with_bg.mp3")?d:d.replace(".mp3","_with_bg.mp3"):d,C=async(A,B)=>{try{if((await fetch(A,{method:"HEAD"})).ok){const Z=document.createElement("a");return Z.href=A,Z.download=`${S.title||"Meditation"}.mp3`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),!0}else if(B)return console.log(`File not found at ${A}, trying fallback...`),C(B);return!1}catch(Q){return console.error(`Error downloading from ${A}:`,Q),B?(console.log("Trying fallback URL..."),C(B)):!1}};if(await C(N,d))p({title:"Download Started",description:"Your meditation is being downloaded",variant:"default"});else throw new Error("Could not download meditation file")}catch(d){console.error("Error downloading meditation:",d),p({title:"Download Failed",description:"Failed to download meditation. Please try again.",variant:"destructive"})}finally{_("")}},z=d=>{if(M===d){T.current&&(T.current.pause(),T.current.currentTime=0),I(null);return}if(T.current&&(T.current.pause(),T.current.currentTime=0),d==="none"){I(null);return}const N=`/music/${d}.mp3`;console.log("Attempting to play audio from:",N);const C=new Audio(N);C.volume=.5,C.loop=!0,C.play().catch(P=>{console.error("Error playing audio:",P),p({title:"Playback Error",description:"Could not play the audio sample. Please try again.",variant:"destructive"})}),T.current=C,I(d)};k.useEffect(()=>()=>{T.current&&(T.current.pause(),T.current.currentTime=0)},[]);const G=async d=>{if(O===d){$.current&&($.current.pause(),$.current.currentTime=0),L(null);return}$.current&&($.current.pause(),$.current.currentTime=0),L(d);try{const N=Ie.find(B=>B.id===d);if(!N)throw new Error("Voice option not found");const P=`/voice-previews/${`${N.name.toLowerCase()}--${d}-.mp3`}`;console.log("Playing voice preview from:",P);const A=new Audio(P);A.onended=()=>{L(null)},A.onerror=B=>{console.error("Error loading audio:",B),L(null),p({title:"Playback Error",description:"Could not load the voice sample. Please try again.",variant:"destructive"})},A.play().catch(B=>{console.error("Error playing voice preview:",B),L(null),p({title:"Playback Error",description:"Could not play the voice sample. Please try again.",variant:"destructive"})}),$.current=A}catch(N){console.error("Error playing voice preview:",N),L(null),p({title:"Preview Error",description:"Could not play voice preview. Please try again.",variant:"destructive"})}};k.useEffect(()=>()=>{$.current&&($.current.pause(),$.current.currentTime=0)},[]);const Y=async()=>{if(S!=null&&S.id)try{_("Discarding meditation...");const N=await(await Pe.post("/api/delete-meditation",{meditationId:S.id})).json();if(N.success)p({title:"Meditation Discarded",description:"Your meditation has been discarded.",variant:"default"}),f("/dashboard");else throw new Error(N.error||"Failed to discard meditation")}catch(d){console.error("Error discarding meditation:",d),p({title:"Note",description:"Your meditation has been discarded. You can create a new one.",variant:"default"}),f("/dashboard")}finally{_("")}},re=d=>{if(!T.current||!he)return;const N=T.current,P=d.currentTarget.getBoundingClientRect(),B=(d.clientX-P.left)/P.width*100;ee(B),N.duration&&(N.currentTime=B/100*N.duration)},ae=d=>{if(!T.current||!he)return;const N=d.currentTarget,C=A=>{const B=T.current;if(!B)return;const Q=N.getBoundingClientRect(),W=Math.max(0,Math.min(A.clientX-Q.left,Q.width))/Q.width*100;ee(W),B.duration&&(B.currentTime=W/100*B.duration)},P=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",P)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",P)};k.useEffect(()=>()=>{T.current&&T.current.pause(),document.querySelectorAll("audio").forEach(N=>N.pause())},[]),k.useEffect(()=>{S&&t===7&&de()},[S,t]);const de=async()=>{if(S)try{const d=S.audio_url,N=d.includes("supabase.co")?d.includes("_with_bg.mp3")?d:d.replace(".mp3","_with_bg.mp3"):d,C=new Audio(N);C.addEventListener("timeupdate",()=>{C.duration&&ee(C.currentTime/C.duration*100)}),C.addEventListener("ended",()=>{U(!1),ee(0)}),C.addEventListener("loadedmetadata",()=>{K(!0)}),C.addEventListener("error",async P=>{console.error("Error with background version, trying original:",P);const A=new Audio(d);A.addEventListener("timeupdate",()=>{A.duration&&ee(A.currentTime/A.duration*100)}),A.addEventListener("ended",()=>{U(!1),ee(0)}),A.addEventListener("loadedmetadata",()=>{K(!0)}),T.current=A}),T.current=C,_("")}catch(d){console.error("Error initializing audio:",d),E("Failed to load meditation audio")}},ue=async d=>{try{b(!0);const N="http://localhost:3000";console.log("Using API URL for goals:",N);const C=await fetch(`${N}/api/infer-goals`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({title:d})});if(!C.ok){const A=await C.json().catch(()=>({}));throw new Error(A.error||"Failed to infer goals")}const P=await C.json();j(P.goals)}catch(N){console.error("Error inferring goals:",N),p({title:"Error",description:"Failed to generate meditation goals. Please try entering them manually.",variant:"destructive"})}finally{b(!1)}};return oe?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-meditation-calm-blue"})}):ne?e.jsxs("div",{className:"min-h-screen bg-meditation-tranquil",children:[e.jsx("header",{className:"bg-white py-4 px-6 shadow-sm",children:e.jsx("div",{className:"container mx-auto max-w-4xl",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(H,{variant:"ghost",size:"sm",onClick:()=>f("/dashboard"),className:"mr-4",children:e.jsx(ct,{size:18})}),e.jsx("h1",{className:"text-xl font-semibold",children:"Create Meditation"})]})})}),e.jsxs("div",{className:"container mx-auto max-w-4xl px-4 py-8",children:[!m&&e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between max-w-xs mx-auto",children:[1,2,3,4,5].map(d=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center transition-colors ${t>=d?"bg-meditation-calm-blue text-white":"bg-gray-100 text-gray-400"}`,children:t>d?e.jsx(Ze,{size:20}):d}),e.jsx("span",{className:"text-xs mt-2 text-center",style:{maxWidth:"70px"},children:d===1?"Title":d===2?"Duration":d===3?"Style":d===4?"Voice":"Audio"})]},d))}),e.jsx("div",{className:"max-w-xs mx-auto mt-2 h-1 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-meditation-calm-blue transition-all",style:{width:`${t/5*100}%`}})})]}),e.jsxs("div",{className:"glass-card rounded-xl overflow-hidden",children:[t===1&&e.jsxs("div",{className:"p-8 animate-fade-in",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"Name Your Meditation"}),e.jsx("p",{className:"text-center text-foreground/70 mb-8",children:"Give your meditation a title, and we'll help you define its goals."}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(Qe,{htmlFor:"title",className:"mb-2 block",children:"Meditation Title"}),e.jsxs("div",{className:"flex",children:[e.jsx(At,{id:"title",value:r,onChange:d=>o(d.target.value),placeholder:"e.g. Morning Clarity",className:"rounded-r-none",required:!0}),e.jsxs(H,{type:"button",variant:"outline",className:"rounded-l-none border-l-0",onClick:()=>ue(r),disabled:!r||g,children:[e.jsx(Dt,{size:16,className:"mr-2"}),g?e.jsxs("span",{className:"inline-flex items-center",children:["AI",e.jsx("span",{className:"animate-ellipsis",children:"..."})]}):"AI Expand"]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx(Qe,{htmlFor:"goals",className:"mb-2 block",children:"Meditation Goals"}),e.jsx(Ft,{id:"goals",value:g?"Analyzing meditation title...":x,onChange:d=>j(d.target.value),placeholder:"Click 'AI Expand' to automatically generate goals based on your title, or enter them manually",className:`resize-none ${g?"animate-pulse":""}`,rows:3,disabled:g}),e.jsx("p",{className:"text-xs text-foreground/70 mt-1",children:g?e.jsxs("span",{className:"inline-flex",children:["Generating goals",e.jsx("span",{className:"animate-ellipsis",children:"..."})]}):"Let AI suggest goals based on your meditation title"})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsx(H,{variant:"ghost",onClick:()=>f("/dashboard"),children:"Cancel"}),e.jsx(H,{onClick:()=>n(2),className:"btn-primary",disabled:!r,children:"Continue"})]})]})]}),t===2&&e.jsxs("div",{className:"p-8 animate-fade-in",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"Select Duration"}),e.jsx("p",{className:"text-center text-foreground/70 mb-8",children:"How long would you like your meditation to be?"}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-3 mb-8",children:["2","5","10","20","30"].map(d=>e.jsxs(H,{type:"button",variant:i===d?"default":"outline",className:`${i===d?"bg-meditation-calm-blue hover:bg-meditation-calm-blue/90":""} pr-6 pl-6`,onClick:()=>a(d),children:[e.jsx($t,{size:16,className:"mr-.05"}),d," min"]},d))}),e.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[e.jsx(H,{variant:"ghost",onClick:()=>n(1),children:"Back"}),e.jsx(H,{onClick:()=>n(3),className:"btn-primary",children:"Continue"})]})]})]}),t===3&&e.jsxs("div",{className:"p-8 animate-fade-in",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"Choose Meditation Style"}),e.jsx("p",{className:"text-center text-foreground/70 mb-8",children:"Select the type of meditation experience you want."}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8",children:yt.map(d=>e.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all hover:shadow-md ${s===d.id?"border-meditation-calm-blue bg-meditation-light-blue/30":"border-gray-200 hover:border-meditation-calm-blue/50"}`,onClick:()=>u(d.id),children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:`p-2 rounded-md mr-3 ${s===d.id?"bg-meditation-calm-blue text-white":"bg-gray-100 text-gray-500"}`,children:d.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:d.name}),e.jsx("p",{className:"text-sm text-foreground/70 mt-1",children:d.description})]})]})},d.id))}),e.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[e.jsx(H,{variant:"ghost",onClick:()=>n(2),children:"Back"}),e.jsx(H,{onClick:()=>s&&n(4),className:"btn-primary",children:"Continue"})]})]})]}),t===4&&e.jsxs("div",{className:"p-8 animate-fade-in",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"Select Voice"}),e.jsx("p",{className:"text-center text-foreground/70 mb-8",children:"Choose the voice for your guided meditation."}),e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs(mt,{className:"w-full",children:[e.jsx(ht,{children:Array.from({length:Math.ceil(Ie.length/4)}).map((d,N)=>e.jsx(pt,{children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-1",children:Ie.slice(N*4,N*4+4).map(C=>e.jsxs("div",{className:`h-full border rounded-lg p-4 cursor-pointer transition-all ${c===C.id?"border-meditation-calm-blue bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>l(C.id),children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-gray-100 rounded-lg mr-3",children:e.jsx(Rt,{className:"h-5 w-5 text-gray-500"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h3",{className:"font-medium",children:C.name}),C.recommended===s&&C.recommended&&e.jsx("span",{className:"ml-2 text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:"Recommended"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:C.description})]})]}),e.jsx("button",{type:"button",className:"text-blue-500 text-sm flex items-center mt-2",onClick:P=>{P.stopPropagation(),G(C.id)},children:O===C.id?e.jsxs(e.Fragment,{children:[e.jsx(ze,{size:16,className:"mr-1"}),"Stop preview"]}):e.jsxs(e.Fragment,{children:[e.jsx(Be,{size:16,className:"mr-1"}),"Preview voice"]})})]},C.id))})},N))}),e.jsxs("div",{className:"flex justify-center mt-6",children:[e.jsx(gt,{className:"relative mr-4 static translate-y-0"}),e.jsx(xt,{className:"relative ml-4 static translate-y-0"})]})]}),e.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[e.jsx(H,{variant:"ghost",onClick:()=>n(3),children:"Back"}),e.jsx(H,{onClick:()=>n(5),className:"btn-primary",children:"Continue"})]})]})]}),t===5&&e.jsxs("div",{className:"p-8 animate-fade-in",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"Background Audio"}),e.jsx("p",{className:"text-center text-foreground/70 mb-8",children:"Choose a background sound to enhance your meditation."}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:vt.map(d=>e.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${v===d.id?"border-meditation-calm-blue bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>h(d.id),children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-gray-100 rounded-lg mr-3",children:e.jsx(_t,{className:"h-5 w-5 text-gray-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:d.name}),e.jsx("p",{className:"text-sm text-gray-600",children:d.description})]})]}),d.id!=="none"&&e.jsx("button",{type:"button",className:"text-blue-500 text-sm flex items-center mt-2",onClick:N=>{N.stopPropagation(),z(d.id)},children:M===d.id?e.jsxs(e.Fragment,{children:[e.jsx(ze,{size:16,className:"mr-1"}),"Stop audio"]}):e.jsxs(e.Fragment,{children:[e.jsx(Be,{size:16,className:"mr-1"}),"Preview audio"]})})]},d.id))}),e.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[e.jsx(H,{variant:"ghost",onClick:()=>n(4),children:"Back"}),e.jsx(H,{onClick:()=>n(6),className:"btn-primary",children:"Continue"})]})]})]}),g&&t===6&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 animate-fade-in-slow",children:e.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-md w-full text-center",children:[e.jsxs("div",{className:"relative h-20 w-20 mx-auto mb-6",children:[e.jsx("div",{className:"absolute top-0 left-0 w-20 h-20 bg-meditation-calm-blue rounded-full animate-breathe opacity-20"}),e.jsx("div",{className:"absolute top-2 left-2 w-16 h-16 bg-meditation-calm-blue rounded-full animate-breathe opacity-40",style:{animationDelay:"0.5s"}}),e.jsx("div",{className:"absolute top-4 left-4 w-12 h-12 bg-meditation-calm-blue rounded-full animate-breathe opacity-60",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute top-6 left-6 w-8 h-8 bg-meditation-calm-blue rounded-full animate-breathe opacity-80",style:{animationDelay:"1.5s"}})]}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Creating Your Meditation"}),e.jsx("p",{className:"text-foreground/70 mb-2",children:me||`We're crafting your perfect ${Oe(i)}-minute ${pe(s)} meditation...`}),e.jsx("p",{className:"text-sm text-foreground/60 mb-4",children:"This process may take a couple of minutes. Please do not refresh the page."}),e.jsx("div",{className:"h-1.5 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-meditation-calm-blue animate-loading-bar",style:{width:"100%"}})})]})}),t===6&&e.jsxs("div",{className:"p-8 animate-fade-in",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"Review & Create"}),e.jsx("p",{className:"text-center text-foreground/70 mb-8",children:"Review your meditation settings before creating."}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-medium mb-4",children:"Meditation Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-foreground/70",children:"Title:"}),e.jsx("span",{className:"font-medium",children:r||`${pe(s)} Meditation`})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-foreground/70",children:"Duration:"}),e.jsxs("span",{className:"font-medium",children:[i," minutes"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-foreground/70",children:"Style:"}),e.jsx("span",{className:"font-medium",children:pe(s)||"Not selected"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-foreground/70",children:"Voice:"}),e.jsx("span",{className:"font-medium",children:rt(c)||"Not selected"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-foreground/70",children:"Background:"}),e.jsx("span",{className:"font-medium",children:it(v)||"Not selected"})]}),x&&e.jsxs("div",{children:[e.jsx("span",{className:"text-foreground/70 block mb-1",children:"Goals:"}),e.jsx("p",{className:"text-sm bg-white p-2 rounded",children:x})]})]})]}),D&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-lg mb-6",children:D}),e.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[e.jsx(H,{variant:"ghost",onClick:()=>n(5),children:"Back"}),e.jsx(H,{onClick:q,className:"btn-primary",disabled:!s||!c||g,children:g?e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ut,{size:16,className:"mr-2 animate-spin"}),"Creating..."]}):"Create Meditation"})]})]})]}),t===7&&e.jsxs("div",{className:"p-8 animate-fade-in",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ze,{className:"h-8 w-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Your Meditation is Ready!"}),e.jsxs("p",{className:"text-foreground/70",children:["Your ",Oe(i),"-minute ",pe(s)," meditation has been created."]})]}),e.jsxs("div",{className:"max-w-xl mx-auto bg-meditation-light-blue/30 rounded-xl p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-lg",children:r||`${pe(s)} Meditation`}),e.jsxs("span",{className:"text-sm text-foreground/70",children:[Oe(i)," min"]})]}),e.jsxs("div",{className:"mt-4 max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(H,{className:"rounded-full w-8 h-8 flex items-center justify-center p-0",onClick:X,disabled:!he,variant:"outline",children:ge?e.jsx(Vt,{size:16}):e.jsx(Be,{size:16})}),e.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-foreground/70",children:ot(((fe=T.current)==null?void 0:fe.currentTime)||0)}),e.jsx("span",{className:"text-sm text-foreground/70",children:ot(((xe=T.current)==null?void 0:xe.duration)||0)})]})]}),e.jsxs("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden cursor-pointer relative group",onClick:re,onMouseDown:ae,role:"slider","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":le,tabIndex:0,children:[e.jsx("div",{className:"h-full bg-meditation-calm-blue transition-all duration-100",style:{width:`${le}%`}}),e.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity",style:{left:`${le}%`},children:e.jsx("div",{className:"w-3 h-3 bg-white border-2 border-meditation-calm-blue rounded-full -ml-1.5 cursor-grab active:cursor-grabbing"})})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-sm mt-4",children:[e.jsx("span",{className:"bg-white px-2 py-1 rounded-full",children:pe(s)}),e.jsx("span",{className:"bg-white px-2 py-1 rounded-full",children:rt(c)}),e.jsx("span",{className:"bg-white px-2 py-1 rounded-full",children:it(v)})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[e.jsxs(H,{className:"btn-primary",onClick:R,children:[e.jsx(zt,{size:18,className:"mr-2"}),"Save to My Meditations"]}),e.jsxs(H,{variant:"outline",onClick:w,children:[e.jsx(Gt,{size:18,className:"mr-2"}),"Download"]}),e.jsx(Lt,{children:e.jsxs(Pt,{children:[e.jsx(It,{asChild:!0,children:e.jsxs(H,{variant:"outline",onClick:Y,children:[e.jsx(ze,{size:18,className:"mr-2"}),"Discard"]})}),e.jsx(Mt,{children:e.jsx("p",{children:"Your meditation will be permanently deleted"})})]})})]})]})]}),!m&&e.jsxs("div",{className:"mt-6 flex items-start p-4 bg-meditation-light-blue/50 rounded-lg max-w-xl mx-auto",children:[e.jsx(Ht,{size:20,className:"text-meditation-deep-blue mr-3 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-sm text-foreground/70",children:[t===1&&"Choose a title that resonates with your intention for this meditation.",t===2&&"Shorter sessions are great for beginners, while longer ones allow for deeper practice.",t===3&&"Different meditation styles offer unique benefits. Choose one that aligns with your goals.",t===4&&"The right voice can significantly enhance your meditation experience.",t===5&&"Background sounds help mask distractions and create a peaceful environment.",t===6&&"Review your selections before creating your personalized meditation."]})]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Please Sign In"}),e.jsx("p",{className:"text-foreground/70 mb-4",children:"You need to be signed in to create meditations."}),e.jsx(H,{onClick:()=>f("/auth"),children:"Sign In"})]})};export{On as default};
